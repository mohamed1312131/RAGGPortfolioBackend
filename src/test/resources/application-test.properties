# Test Configuration - Uses H2 in-memory database instead of PostgreSQL

# Disable PostgreSQL for tests
spring.datasource.url=jdbc:h2:mem:testdb
spring.datasource.driver-class-name=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=

# JPA/Hibernate for H2
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect
spring.jpa.hibernate.ddl-auto=create-drop
spring.jpa.show-sql=false

# CRITICAL: Disable schema.sql execution for tests (H2 doesn't support PostgreSQL syntax)
spring.sql.init.mode=never

# Disable Azure OpenAI for tests (mock it in tests if needed)
azure.openai.baseUrl=http://localhost:8080/mock
azure.openai.apiKey=test-key
azure.openai.chatApiVersion=2024-02-15-preview
azure.openai.embeddingApiVersion=2024-02-15-preview
azure.openai.chatDeployment=test-chat
azure.openai.embeddingDeployment=test-embedding

# Disable ChromaDB for tests
chroma.url=http://localhost:8080/mock
chroma.collection=test-collection

# Server
server.port=0
